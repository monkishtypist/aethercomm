/**
 * Typography
 * Buttons
 * Wrappers
 * Sections
 * Custom elements
 *   Crosshairs
 *   Pipes
 * Navs
 * Footer
 */

/* Typography */
body {
    letter-spacing: .025em;
}

/**
 * Wrappers
 *
 * Used to wrap distinct page elements
 */
#wrapper-footer {
    background-color: $dark;
    color: $white;
    padding: #{$spacer * 4.125} 0;
    .container {
        > .row {
            margin-bottom: #{$spacer * 2.625};
            &:last-of-type {
                margin-bottom: 0;
            }
        }
    }
}

/**
 * Sections
 *
 * These are the rows with defined backgrounds
 */
.section-black {
    background-color: $black;
    color: $white;
}

.section-blue {
    background-color: rgba($blue,.9);
    color: $white;
}

.section-banner {
    -webkit-clip-path: polygon(100% 0, 100% 100%, 0 100%, 0 #{$spacer * 1.5}, calc(100% - #{($spacer * 25) + $spacer * 2}) #{$spacer * 1.5}, calc(100% - #{($spacer * 25)}) 0);
    clip-path: polygon(100% 0, 100% 100%, 0 100%, 0 #{$spacer * 1.5}, calc(100% - #{($spacer * 25) + $spacer * 2}) #{$spacer * 1.5}, calc(100% - #{($spacer * 25)}) 0);
}

/**
 * Custom Elements
 *
 * Additonal style elements
 */

/* Crosshairs */
@mixin crosshairs($color) {
    display: block;
    position: relative;
    height: #{$spacer * 1.375};
    width: #{$spacer * 1.375};
    &:after,
    &:before {
        content: " ";
        box-sizing: border-box;
        display: block;
        position: absolute;
    }
    &:after {
        border-right: 1px solid $color;
        height: 100%;
        width: 50%;
        left: 0;
    }
    &:before {
        border-bottom: 1px solid $color;
        height: 50%;
        width: 100%;
        top: 0;
    }
}
@each $color, $value in $colors {
    .crosshair-#{$color} { @include crosshairs($value); }
}
@each $color, $value in $theme-colors {
    .crosshair-#{$color} { @include crosshairs($value); }
}

/* Pipes */
span.pipe {
    &::after {
        content: " | ";
    }
    @include media-breakpoint-down('md') {
        width: 100%;
        display: block;
        &::after {
            content: "";
            display: none;
        }
    }
}

/**
 * Navs
 *
 * Styles for navigation bars
 */
#footer-menu { // <ul>
    @extend .row;
    justify-content: space-between;
    > .nav-item { // <li>
        @extend .col-12;
        @extend .col-sm-6;
        @extend .col-md-4;
        @extend .col-lg-auto;
        @include media-breakpoint-only('xs') {
            margin-bottom: #{$spacer};
            &:nth-last-child(1) {
                margin-bottom: 0;
            }
        }
        @include media-breakpoint-only('sm') {
            margin-bottom: #{$spacer};
            &:nth-last-child(1),
            &:nth-last-child(2) {
                margin-bottom: 0;
            }
        }
        @include media-breakpoint-only('md') {
            margin-bottom: #{$spacer};
            &:nth-last-child(1),
            &:nth-last-child(2),
            &:nth-last-child(3) {
                margin-bottom: 0;
            }
        }
        > .nav-link { // <a>
            color: $white;
            font-size: #{$font-size-base * .875};
            font-weight: $font-weight-bold;
            padding: 0;
            text-transform: uppercase;
            &.dropdown-toggle {
                &::after {
                    display: none;
                }
            }
        }
        &.dropdown { // <li>
            > .dropdown-menu { // <ul>
                background-color: transparent;
                display: block !important;
                margin: 0;
                padding: 0;
                position: relative !important;
                top: 0;
                transform: inherit !important;
                > .nav-item { // <li>
                    > .dropdown-item { // <a>
                        background-color: transparent;
                        color: $gray-600;
                        padding: 0;
                        &:active,
                        &:hover {
                            background-color: transparent;
                            color: $gray-600;
                        }
                    }
                }
            }
        }
    }
}
#legal-menu { // <ul>
    @extend .row;
    justify-content: center;
    @include media-breakpoint-up('lg') {
        justify-content: space-between;
    }
    > .nav-item { // <li>
        @extend .col-auto;
        > .nav-link { // <a>
            color: $white;
            font-size: $font-size-sm;
            padding: 0;
            text-decoration: underline;
        }
    }
}

/**
 * Footer
 *
 * Widgets and content. For nav menus see 'Navs'
 */
 #wrapper-footer {
    .footer-widgets {
        @extend .row;
        align-items: center;
        justify-content: space-between;
        .footer-widget {
            @extend .col-12;
            @extend .col-lg-auto;
            @include media-breakpoint-down('md') {
                margin-bottom: #{$spacer};
                &:last-of-type {
                    margin-bottom: 0;
                }
            }
            p {
                &:last-of-type {
                    margin-bottom: 0;
                }
                a {
                    text-decoration: underline;
                }
            }
        }
        #footer-social {
            a {
                color: $white;
                font-size: #{$font-size-base * 1.5};
                margin-right: 2em;
                &:last-of-type {
                    margin-right: 0;
                }
            }
        }
    }
    .footer-siteinfo {
        @extend .row;
        @include media-breakpoint-up('lg') {
            flex-direction: row-reverse;
            justify-content: space-between;
        }
        #colophon {
            @extend .col-12;
            @extend .col-lg-auto;
            font-size: $font-size-sm;
            @include media-breakpoint-down('md') {
                text-align: center;
            }
            @include media-breakpoint-up('xl') {
                margin-right: #{$spacer * 4};
            }
        }
        #legal-menu-wrapper {
            @extend .col-12;
            @extend .col-lg;
            @include media-breakpoint-down('md') {
                text-align: center;
                margin-bottom: #{$spacer};
            }
        }
    }
}
